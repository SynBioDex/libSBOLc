<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>libSBOLc: $title</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="SBOLlogo2_high_res.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">libSBOLc
   &#160;<span id="projectnumber">1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="custom_class_page.html"><span>Classes</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="overview"></a>
Overview</h1>
<p>There are a few different top-level subdirectories in the libSBOLc folder:</p>
<ul>
<li><a href="https://github.com/SynBioDex/libSBOLc/tree/master/schema">schema</a> holds the SBOL schema files copied from libSBOLj</li>
<li><a href="https://github.com/SynBioDex/libSBOLc/tree/master/source">source</a> contains source code for the library</li>
<li><a href="https://github.com/SynBioDex/libSBOLc/tree/master/examples">examples</a> contains example code that uses the library, as well as the xml test files from libSBOLj</li>
<li><a href="https://github.com/SynBioDex/libSBOLc/tree/master/manual">manual</a> contains source code for generating the online documentation</li>
<li><a href="https://github.com/SynBioDex/libSBOLc/tree/master/tests">tests</a> contains unit tests, as well as tests that verify correct handling of the example xml files</li>
<li><a href="https://github.com/SynBioDex/libSBOLc/tree/master/wrapper">wrapper</a> contains code for generating the Python wrapper using SWIG</li>
<li>Finally, there's the build folder for temporary build files, and the release folder for finished binaries. They're created by CMake.</li>
</ul>
<p>When running CMake and compiling, the main sbol library is always created first because most of the optional targets depend on it: </p><div class="image">
<img src="build_dependencies.png" alt="build_dependencies.png"/>
</div>
<p>Once built, the executables just depend on finding the correct xml files: </p><div class="image">
<img src="runtime_dependencies.png" alt="runtime_dependencies.png"/>
</div>
<h1><a class="anchor" id="tour"></a>
A brief tour of the source code</h1>
<p>There are a bunch of C source files, but they fall into a few general categories:</p>
<ul>
<li><a class="el" href="dnasequence_8h.html" title="Defines the DNASequence struct, as well as functions for operating on it. ">dnasequence.h</a>, <a class="el" href="sequenceannotation_8h.html" title="This file contains the SequenceAnnotation struct, as well as functions for operating on it...">sequenceannotation.h</a>, <a class="el" href="dnacomponent_8h.html" title="Contains the DNAComponent struct, as well as functions for operating on it. ">dnacomponent.h</a>, and <a class="el" href="collection_8h.html" title="Defines the Collection struct, as well as functions for operating on it. ">collection.h</a> define the SBOL Core objects.</li>
<li><a class="el" href="array_8h.html" title="Defines the PointerArray struct, as well as functions for operating on it. ">array.h</a>, <a class="el" href="object_8h.html" title="Defines the SBOLObject struct, as well as functions for operating on it. ">object.h</a>, and <a class="el" href="property_8h.html" title="Defines a hierarchy of Properties, which hold data for SBOLObjects. ">property.h</a> define building blocks for those objects.</li>
<li><a class="el" href="document_8h.html" title="Defines the Document struct, as well as functions for operating on it. ">document.h</a> defines an SBOL Document.</li>
<li><a class="el" href="validator_8h.html" title="This file defines the isValidSBOL function, which is used to verify SBOL documents before parsing...">validator.h</a>, <a class="el" href="reader_8h.html" title="Contains functions for importing SBOL objects from an XML file. ">reader.h</a>, and <a class="el" href="writer_8h.html" title="This file contains functions for writing the SBOL core to an XML file. ">writer.h</a> perform operations on documents. They each have one main algorithm, plus maybe some non-exported supporting functions.</li>
<li>Then there are a few other miscellaneous files like <a class="el" href="prototypes_8h.html" title="Declares all the major structs, unions, and enums so the compiler will recognize them when reading th...">prototypes.h</a>, <a class="el" href="constants_8h_8in.html" title="Central location for defining constants related to SBOL. ">constants.h.in</a>, and <a class="el" href="utilities_8h.html" title="This file defines SBOL utility functions that don&#39;t really fit in anywhere else. ">utilities.h</a>; they each do something unique but limited.</li>
</ul>
<p>You might be confused and/or annoyed with the profusion of similarly-named structs and functions relating to SBOL objects. I know I would be seeing it for the first time. Here are a couple diagrams to clarify what they're supposed to represent:</p>
<div class="image">
<img src="property_hierarchy.png" alt="property_hierarchy.png"/>
</div>
<div class="image">
<img src="struct_hierarchy.png" alt="struct_hierarchy.png"/>
</div>
<h1><a class="anchor" id="doxygen"></a>
Updating this documentation</h1>
<p>The code for this page is in mainpage.dox; the rest of the documentation is scattered throughout the source/*.h files. There are also a couple graphs, which can be edited with the yEd graph editor from <a href="http://www.yworks.com/en/products_yed_about.html">http://www.yworks.com/en/products_yed_about.html</a></p>
<p>After editing the source files, you also need to generate html using Doxygen, and upload it to GitHub.</p>
<p>First, make sure you have Doxygen installed. Then check <code>SBOL_GENERATE_MANUAL</code> in CMake, <code>cd</code> into <code>libSBOLc/build</code>, and run <code>make</code>. Doxygen will generate a <code>libSBOLc/release/manual/html</code> folder full of html files. To change settings, edit Doxyfile.in first.</p>
<p>Copy the HTML to somewhere outside the main libSBOLc directory, then <code>git checkout gh-pages</code>. It's a special branch with nothing but HTML files. There may also be some leftover untracked files from the master branch. Delete everything in there, and replace it with the newly generated html files. Then <code>git push origin gh-pages</code>. A minute or so later, the new documentation should be available at <a href="http://SynBioDex.github.com/libSBOLc/">http://SynBioDex.github.com/libSBOLc/</a></p>
<h1><a class="anchor" id="swig"></a>
Updating the Python wrapper</h1>
<p>To update the low-level Python wrapper, all you need to do is:</p>
<ul>
<li>check SBOL_GENERATE_PYTHON in CMake</li>
<li>build the project</li>
<li>keep _libsbol.so and libsbol.py from the libSBOLc/release/wrapper folder</li>
</ul>
<p>These are generated by SWIG, and represent a direct translation of the C functions into Python. They're cross-platform so you should only need to generate them once.</p>
<p>There is also a high-level wrapper that maps the C-like SWIG functions into a more natural Python interface. It's kept in a separate repository at <a href="https://github.com/SynBioDex/libSBOLpy,">https://github.com/SynBioDex/libSBOLpy,</a> and will need to be manually adjusted when new functions are added to the SWIG wrapper.</p>
<p>The low-level wrapper also works by itself though. From the Python interpreter, import libsbol to use it. While the high-level interface is more pythonic, the low-level one is more useful for prototyping algorithms that will be re-written in C.</p>
<p>One other thing to remember is that although the generated files are cross-platform, they only work with the version of Python they were compiled against. If you try to import the libsbol module from a different version you may get a seeminly unrelated error like "Fatal Python error: PyThreadState_Get: no current thread". </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 1 2014 17:31:16 for libSBOLc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
