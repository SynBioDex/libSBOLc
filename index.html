<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>libSBOLc: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libSBOLc
   &#160;<span id="projectnumber">1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Introduction</span></a></li>
      <li><a href="developers_page.html"><span>Code&#160;Overview</span></a></li>
      <li><a href="custom_class_page.html"><span>Classes&#160;and&#160;API</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">libSBOLc Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Introduction </h2>
<p><a href="https://github.com/SynBioDex/libSBOLc">libSBOLc</a> is a C library for reading, writing, and manipulating genetic "designs" stored in DNA repositories and data banks in the standardized SBOL data format. <a href="http://sbolstandard.org">Learn more about the Synthetic Biology Open Language (SBOL)</a>.</p>
<p>Here is some example client code that will recreate valid04_dna_component_annotation.xml, which is one of the test cases from libSBOLj. </p><pre class="fragment">#include "sbol.h"

Document* CreateValid04() {
            Document* doc = createDocument();

            // components
            DNAComponent *dc1 = createDNAComponent(doc, "http://example.com/dc1");
            DNAComponent *dc2 = createDNAComponent(doc, "http://example.com/dc2");
            setDNAComponentDisplayID(dc1, "DC1");
            setDNAComponentDisplayID(dc2, "DC2");
            setDNAComponentName(dc1, "DnaComponent1");
            setDNAComponentName(dc2, "DnaComponent2");
            setDNAComponentDescription(dc1, "DnaComponent with one sequence annotation");
            setDNAComponentDescription(dc2, "Another DNA component");

            // sequence
            DNASequence *ds1 = createDNASequence(doc, "http://example.com/ds1");
            setDNASequenceNucleotides(ds1, "tccctatcagtgat");
            setDNAComponentSequence(dc1, ds1);

            // annotation
            SequenceAnnotation *sa1 = createSequenceAnnotation(doc, "http://example.com/sa1");
            setSequenceAnnotationSubComponent(sa1, dc2);
            addSequenceAnnotation(dc1, sa1);

            return doc;
    }
</pre><p>To make a complete program, you could add: </p><pre class="fragment">void main() {
    Document *doc = CreateValid04();
    writeDocument(doc, "valid04_dna_component_annotation.xml");
    deleteDocument(doc);
}
</pre><p>The other examples follow the same format, and can be found <a href="https://github.com/SynBioDex/libSBOLc/tree/master/examples/code">here</a>.</p>
<p>The rest of this file is a quick guide to getting started with common tasks. For more detailed information about the code itself, see <a href="http://synbiodex.github.com/libSBOLc">the online documentation</a>.</p>
<h2>Downloading the binaries </h2>
<p>Shared library files are available <a href="https://github.com/SynBioDex/libSBOLc/downloads">here</a> for Windows, Mac OSX, and Linux/Unix.</p>
<h2>Building from source </h2>
<p>To compile libSBOLc, you will need:</p>
<ul>
<li><a href="http://git-scm.com/">git</a> for downloading the source code</li>
<li><a href="http://www.cmake.org/cmake/resources/software.html">CMake</a> for generating platform-specific build /// instructions</li>
<li>a C compiler, such as <a href="http://gcc.gnu.org/">gcc</a> or <a href="http://www.mingw.org/wiki/InstallationHOWTOforMinGW">MinGW</a></li>
</ul>
<p>First, download them from the links above. Or if you're on Debian/Ubuntu this command should install /// everything: </p><pre class="fragment">sudo apt-get install git cmake-qt-gui build-essential libxml2-dev
</pre><p>If you want to update the documentation you also need <a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a>, and to generate the Python wrapper you need <a href="http://www.swig.org/">SWIG</a>. To install them on Debian/Ubuntu: </p><pre class="fragment">sudo apt-get install doxygen-gui swig
</pre><p>Then, clone the repository: </p><pre class="fragment">git clone git://github.com/SynBioDex/libSBOLc.git
</pre><p>This will create a <code>libSBOLc</code> directory with the code. Next, run CMake (cmake-qt-gui on linux). For "Where is the source code" enter the path to your <code>libSBOLc</code> folder. "Where to
build the binaries" can technically be anywhere, but it's only been tested with <code>libSBOLc/build</code>.</p>
<p>Click <code>Configure</code>, and choose what type of compiler you want to generate instructions for. /// All the development has been done using "default native compilers" and MinGW on Windows or Unix makefiles on Mac/Linux. CMake should also be able to generate projects for Eclipse, Visual Studio, XCode, etc. However, that will probably involve adjusting some paths.</p>
<p>The first time you click <code>Configure</code> CMake will list variables, like <code>CMAKE_BUILD_TYPE</code> and <code>LIBXML2_INCLUDE_DIR</code>, in red. That means they've been updated. To build the main SBOL library, just click <code>Configure</code> again until the red goes away. This is also where you set up the optional targets: examples, tests, manual, and Python wrapper. To add them check the appropriate boxes (SBOL_BUILD_EXAMPLES, for example) and then <code>Configure</code> again to adjust the settings. There's one other SBOL-specific option: <code>SBOL_DEBUG_STATEMENTS</code> will cause libSBOLc to be compiled with some extra debugging statements. A lot of other options might be visibile too; checking <code>Grouped</code> at the top makes things more managable. Once it's all set, click <code>Generate</code> to create the compiler instructions.</p>
<p>The last step is to <code>cd</code> into the <code>libSBOLc/build</code> folder and run the compiler. </p><pre class="fragment">make
</pre><p>or </p><pre class="fragment">mingw32-make.exe
</pre><p>Binaries will be generated in the <code>libSBOLc/release</code> folder.</p>
<h2>Testing </h2>
<p>Once you've configured and built libSBOLc, you can run some simple tests to check that everything works. <code>cd</code> into the <code>libSBOLc/release/tests</code> folder and run: </p><pre class="fragment">./sbol_run_tests
</pre><p>or </p><pre class="fragment">sbol_run_tests.exe
</pre><h2>Incorporating SBOL into your code </h2>
<p>To use libSBOLc in your own code, <code>#include "sbol.h"</code>. Then there are only a few important /// functions you need to know to get started reading, writing, and manipulating SBOL files:</p>
<ul>
<li>createDocument makes a new Document, and deleteDocument frees it from memory. The other SBOL objects are created with an existing Document as their first argument.</li>
<li>readDocument imports SBOL objects from a file, and writeDocument serializes them again.</li>
<li>isValidSBOL checks that an xmlDoc conforms to the SBOL schema. Using it involves parsing with libxml. There's an example of that in <a href="https://github.com/SynBioDex/libSBOLc/blob/master/examples/code/sbol_validate.c">sbol_validate.c</a>, but it shouldn't be necessary in most cases since readDocument and writeDocument both call it internally.</li>
<li>There are constructors, destructors, getters, and setters for each type of SBOL object. For the most part they follow a pretty obvious formula: setDNAComponentDisplayID and getDNAComponentDisplayID, for example. But there are also some non-obvious ones, like addPrecedesRelationship. For those the <a href="http://synbiodex.github.com/libSBOLc/globals_func.html">index of all available functions</a> is a good place to look. There's also code to create each of the xml example files in <a href="https://github.com/SynBioDex/libSBOLc/tree/master/examples/code">libSBOLc/examples/code</a>.</li>
</ul>
<h2>Linking to the SBOL library </h2>
<p>There are different ways to do this, but this is probably the simplest. To compile the sbol_validate /// example using MinGW on Windows: </p><pre class="fragment">mingw32-gcc.exe -I headers sbol_validate.c -o validate libsbol.dll
</pre><p>and the equivalent command on Mac/Linux: </p><pre class="fragment">gcc -I headers sbol_validate.c -o validate libsbol.so
</pre><p>The <code>-I</code> tells <code>gcc</code> where to look for headers, and <code>-o</code> gives the /// name of the generated executable. If you get an error like "library not loaded... image not found" on /// Mac OSX, you probably need to tell the system to look in the current folder for libsbol: </p><pre class="fragment">export DYLD_LIBRARY_PATH=.:$DYLD_LIBRARY_PATH
</pre><p>The same thing should work in Linux, except it's <code>LD_LIBRARY_PATH</code>. Another possible problem is that gcc doesn't know to use libxml, which will result in "undefined symbols... \_xmlFree
\_xmlFreeDoc" etc. Try adding <code>-lxml</code> or <code>-lxml2</code> to the compile command.</p>
<p>For more complex programs CMake is a good choice. It lets you write detailed build scripts that configure files, create directories, find system libraries, etc.</p>
<h2>Updating the documentation </h2>
<p>To update this file, just edit README.md. <a href="http://daringfireball.net/projects/markdown/">This description of markdown syntax</a> is helpful. To update the full Doxygen documentation, see <a href="http://synbiodex.github.com/libSBOLc#doxygen">here</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 8 2015 18:08:02 for libSBOLc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
